<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Get Involved! Becoming a Citizen Scientist</title>
  <meta name="description" content="Get Involved! Becoming a Citizen Scientist">
  <meta name="generator" content="bookdown 0.4 and GitBook 2.6.7">

  <meta property="og:title" content="Get Involved! Becoming a Citizen Scientist" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Get Involved! Becoming a Citizen Scientist" />
  
  
  

<meta name="author" content="Al Fischer">


<meta name="date" content="2017-06-05">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="air-quality.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="index.html">Get Involved!</a></li>
<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="chapter" data-level="2" data-path="chapter-2-blinking-led.html"><a href="chapter-2-blinking-led.html"><i class="fa fa-check"></i><b>2</b> Chapter 2: Blinking LED</a><ul>
<li class="chapter" data-level="2.1" data-path="chapter-2-blinking-led.html"><a href="chapter-2-blinking-led.html#introduction-what-is-arduino"><i class="fa fa-check"></i><b>2.1</b> Introduction: What is Arduino?</a></li>
<li class="chapter" data-level="2.2" data-path="chapter-2-blinking-led.html"><a href="chapter-2-blinking-led.html#lighting-an-led-with-arduino"><i class="fa fa-check"></i><b>2.2</b> Lighting an LED with Arduino</a><ul>
<li class="chapter" data-level="2.2.1" data-path="chapter-2-blinking-led.html"><a href="chapter-2-blinking-led.html#connecting-the-leds"><i class="fa fa-check"></i><b>2.2.1</b> Connecting the LEDs</a></li>
<li class="chapter" data-level="2.2.2" data-path="chapter-2-blinking-led.html"><a href="chapter-2-blinking-led.html#programming-the-arduino"><i class="fa fa-check"></i><b>2.2.2</b> Programming the Arduino</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="chapter-2-blinking-led.html"><a href="chapter-2-blinking-led.html#additional-resources"><i class="fa fa-check"></i><b>2.3</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="chapter-3-measuring-voltage.html"><a href="chapter-3-measuring-voltage.html"><i class="fa fa-check"></i><b>3</b> Chapter 3: Measuring Voltage</a><ul>
<li class="chapter" data-level="3.1" data-path="chapter-3-measuring-voltage.html"><a href="chapter-3-measuring-voltage.html#introduction-voltage-and-ohms-law"><i class="fa fa-check"></i><b>3.1</b> Introduction: Voltage and Ohm’s Law</a></li>
<li class="chapter" data-level="3.2" data-path="chapter-3-measuring-voltage.html"><a href="chapter-3-measuring-voltage.html#measuring-a-voltage"><i class="fa fa-check"></i><b>3.2</b> Measuring a Voltage</a><ul>
<li class="chapter" data-level="3.2.1" data-path="chapter-3-measuring-voltage.html"><a href="chapter-3-measuring-voltage.html#connecting-the-sensor"><i class="fa fa-check"></i><b>3.2.1</b> Connecting the Sensor</a></li>
<li class="chapter" data-level="3.2.2" data-path="chapter-3-measuring-voltage.html"><a href="chapter-3-measuring-voltage.html#programming-the-arduino-1"><i class="fa fa-check"></i><b>3.2.2</b> Programming the Arduino</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="chapter-3-measuring-voltage.html"><a href="chapter-3-measuring-voltage.html#additional-resources-1"><i class="fa fa-check"></i><b>3.3</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="chapter-4-electronics-primer-and-signal-transduction.html"><a href="chapter-4-electronics-primer-and-signal-transduction.html"><i class="fa fa-check"></i><b>4</b> Chapter 4: Electronics Primer and Signal Transduction</a><ul>
<li class="chapter" data-level="4.1" data-path="chapter-4-electronics-primer-and-signal-transduction.html"><a href="chapter-4-electronics-primer-and-signal-transduction.html#introduction"><i class="fa fa-check"></i><b>4.1</b> Introduction</a><ul>
<li class="chapter" data-level="4.1.1" data-path="chapter-4-electronics-primer-and-signal-transduction.html"><a href="chapter-4-electronics-primer-and-signal-transduction.html#the-voltage-divider-for-analog-signals"><i class="fa fa-check"></i><b>4.1.1</b> The Voltage Divider for Analog Signals</a></li>
<li class="chapter" data-level="4.1.2" data-path="chapter-4-electronics-primer-and-signal-transduction.html"><a href="chapter-4-electronics-primer-and-signal-transduction.html#pull-up-and-pull-down-resistors-for-digital-signals"><i class="fa fa-check"></i><b>4.1.2</b> Pull-up and Pull-down Resistors for Digital Signals</a></li>
<li class="chapter" data-level="4.1.3" data-path="chapter-4-electronics-primer-and-signal-transduction.html"><a href="chapter-4-electronics-primer-and-signal-transduction.html#pwm-for-controlling-output-intensity"><i class="fa fa-check"></i><b>4.1.3</b> PWM for Controlling Output Intensity</a></li>
<li class="chapter" data-level="4.1.4" data-path="chapter-4-electronics-primer-and-signal-transduction.html"><a href="chapter-4-electronics-primer-and-signal-transduction.html#if-statements-for-selective-code"><i class="fa fa-check"></i><b>4.1.4</b> <code>if()</code> Statements for Selective Code</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="chapter-4-electronics-primer-and-signal-transduction.html"><a href="chapter-4-electronics-primer-and-signal-transduction.html#additional-resources-2"><i class="fa fa-check"></i><b>4.2</b> Additional Resources</a></li>
<li class="chapter" data-level="4.3" data-path="chapter-4-electronics-primer-and-signal-transduction.html"><a href="chapter-4-electronics-primer-and-signal-transduction.html#chapter-4a-the-voltage-divider"><i class="fa fa-check"></i><b>4.3</b> Chapter 4A: The Voltage Divider</a><ul>
<li class="chapter" data-level="4.3.1" data-path="chapter-4-electronics-primer-and-signal-transduction.html"><a href="chapter-4-electronics-primer-and-signal-transduction.html#background"><i class="fa fa-check"></i><b>4.3.1</b> Background</a></li>
<li class="chapter" data-level="4.3.2" data-path="chapter-4-electronics-primer-and-signal-transduction.html"><a href="chapter-4-electronics-primer-and-signal-transduction.html#using-sensors-with-arduino"><i class="fa fa-check"></i><b>4.3.2</b> Using Sensors with Arduino</a></li>
<li class="chapter" data-level="4.3.3" data-path="chapter-4-electronics-primer-and-signal-transduction.html"><a href="chapter-4-electronics-primer-and-signal-transduction.html#additional-resources-3"><i class="fa fa-check"></i><b>4.3.3</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="chapter-4-electronics-primer-and-signal-transduction.html"><a href="chapter-4-electronics-primer-and-signal-transduction.html#chapter-4b-working-with-digital-signals"><i class="fa fa-check"></i><b>4.4</b> Chapter 4B: Working with Digital Signals</a><ul>
<li class="chapter" data-level="4.4.1" data-path="chapter-4-electronics-primer-and-signal-transduction.html"><a href="chapter-4-electronics-primer-and-signal-transduction.html#background-1"><i class="fa fa-check"></i><b>4.4.1</b> Background</a></li>
<li class="chapter" data-level="4.4.2" data-path="chapter-4-electronics-primer-and-signal-transduction.html"><a href="chapter-4-electronics-primer-and-signal-transduction.html#using-arduinos-digital-io-pins"><i class="fa fa-check"></i><b>4.4.2</b> Using Arduino’s Digital I/O Pins</a></li>
<li class="chapter" data-level="4.4.3" data-path="chapter-4-electronics-primer-and-signal-transduction.html"><a href="chapter-4-electronics-primer-and-signal-transduction.html#additional-resources-4"><i class="fa fa-check"></i><b>4.4.3</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="chapter-4-electronics-primer-and-signal-transduction.html"><a href="chapter-4-electronics-primer-and-signal-transduction.html#chapter-4c-diodes"><i class="fa fa-check"></i><b>4.5</b> Chapter 4C: Diodes</a><ul>
<li class="chapter" data-level="4.5.1" data-path="chapter-4-electronics-primer-and-signal-transduction.html"><a href="chapter-4-electronics-primer-and-signal-transduction.html#background-2"><i class="fa fa-check"></i><b>4.5.1</b> Background</a></li>
<li class="chapter" data-level="4.5.2" data-path="chapter-4-electronics-primer-and-signal-transduction.html"><a href="chapter-4-electronics-primer-and-signal-transduction.html#additional-resources-5"><i class="fa fa-check"></i><b>4.5.2</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="chapter-4-electronics-primer-and-signal-transduction.html"><a href="chapter-4-electronics-primer-and-signal-transduction.html#chapter-4d-sound-output"><i class="fa fa-check"></i><b>4.6</b> Chapter 4D: Sound Output</a><ul>
<li class="chapter" data-level="4.6.1" data-path="chapter-4-electronics-primer-and-signal-transduction.html"><a href="chapter-4-electronics-primer-and-signal-transduction.html#background-what-is-sound"><i class="fa fa-check"></i><b>4.6.1</b> Background: What is Sound?</a></li>
<li class="chapter" data-level="4.6.2" data-path="chapter-4-electronics-primer-and-signal-transduction.html"><a href="chapter-4-electronics-primer-and-signal-transduction.html#making-sounds"><i class="fa fa-check"></i><b>4.6.2</b> Making Sounds</a></li>
<li class="chapter" data-level="4.6.3" data-path="chapter-4-electronics-primer-and-signal-transduction.html"><a href="chapter-4-electronics-primer-and-signal-transduction.html#additional-resources-6"><i class="fa fa-check"></i><b>4.6.3</b> Additional Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="air-quality.html"><a href="air-quality.html"><i class="fa fa-check"></i><b>5</b> Air Quality</a><ul>
<li class="chapter" data-level="5.1" data-path="air-quality.html"><a href="air-quality.html#introduction-air-quality"><i class="fa fa-check"></i><b>5.1</b> Introduction: Air Quality</a><ul>
<li class="chapter" data-level="5.1.1" data-path="air-quality.html"><a href="air-quality.html#good-ozone-vs.bad-ozone"><i class="fa fa-check"></i><b>5.1.1</b> Good Ozone vs. Bad Ozone</a></li>
<li class="chapter" data-level="5.1.2" data-path="air-quality.html"><a href="air-quality.html#particulate-matter"><i class="fa fa-check"></i><b>5.1.2</b> Particulate Matter</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="air-quality.html"><a href="air-quality.html#measuring-air-quality"><i class="fa fa-check"></i><b>5.2</b> Measuring Air Quality</a><ul>
<li class="chapter" data-level="5.2.1" data-path="air-quality.html"><a href="air-quality.html#o_3-sensor"><i class="fa fa-check"></i><b>5.2.1</b> O<span class="math inline">\(_3\)</span> Sensor</a></li>
<li class="chapter" data-level="5.2.2" data-path="air-quality.html"><a href="air-quality.html#pm-sensor"><i class="fa fa-check"></i><b>5.2.2</b> PM Sensor</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="air-quality.html"><a href="air-quality.html#logging-data"><i class="fa fa-check"></i><b>5.3</b> Logging Data</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="chapter-6-data-logging.html"><a href="chapter-6-data-logging.html"><i class="fa fa-check"></i><b>6</b> Chapter 6: Data Logging</a><ul>
<li class="chapter" data-level="6.1" data-path="chapter-6-data-logging.html"><a href="chapter-6-data-logging.html#introduction-1"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="chapter-6-data-logging.html"><a href="chapter-6-data-logging.html#interacting-with-the-data"><i class="fa fa-check"></i><b>6.2</b> Interacting with the Data</a><ul>
<li class="chapter" data-level="6.2.1" data-path="chapter-6-data-logging.html"><a href="chapter-6-data-logging.html#plotting-in-real-time"><i class="fa fa-check"></i><b>6.2.1</b> Plotting in Real Time</a></li>
<li class="chapter" data-level="6.2.2" data-path="chapter-6-data-logging.html"><a href="chapter-6-data-logging.html#saving-data-to-a-file"><i class="fa fa-check"></i><b>6.2.2</b> Saving Data to a File</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://bookdown.org"> Published in R with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Get Involved! Becoming a Citizen Scientist</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="chapter-6-data-logging" class="section level1">
<h1><span class="header-section-number">6</span> Chapter 6: Data Logging</h1>
<p><strong>Objective:</strong> Plot data on a computer screen and save data to an SD Card.</p>
<div id="introduction-1" class="section level2">
<h2><span class="header-section-number">6.1</span> Introduction</h2>
<p>So far, you’ve used Arduino as an interface to sensors that reads and displays numbers on a computer screen. Usually, it’s more desirable to view a plot of the data. This provides a way to visualize all the data at once and pick out trends. Most modern scientific instruments provide a graphical display directly on the computer screen in real time, and also provide a way to save the data to a file to graph later with a graphing or data analysis program. This exercise will walk you through both of those.</p>
</div>
<div id="interacting-with-the-data" class="section level2">
<h2><span class="header-section-number">6.2</span> Interacting with the Data</h2>
<div id="plotting-in-real-time" class="section level3">
<h3><span class="header-section-number">6.2.1</span> Plotting in Real Time</h3>
<p>We’ve written a program using the programming software LabVIEW that reads data from the serial port (remember Arduino sends data to the serial port) and plots it in real time. To use it:</p>
<ol style="list-style-type: decimal">
<li>Go to the “Arduino Exercises” section of the eLC site and download the appropriate program for your sensor. It will have the naming convention “Arduino_PlotData_Sensor”.</li>
<li>Connect your sensor/Arduino to the computer.</li>
<li>Open the program you downloaded and follow the instruction in the user interface.</li>
</ol>
</div>
<div id="saving-data-to-a-file" class="section level3">
<h3><span class="header-section-number">6.2.2</span> Saving Data to a File</h3>
<p>To save the data to a file, we’ll use an SD (Secure Digital) card as portable memory (just like digital cameras) and an SD card <strong><em>shield</em></strong> (a pre-made add-on for Arduino). Writing to a data file is similar to writing to the serial port, and uses the command <code>fileName.print()</code> or <code>fileName.println()</code>. You’ll need to modify your code to make it work.</p>
<p><strong>O3 Sensor</strong></p>
<ol style="list-style-type: decimal">
<li><p>At the top of your code (just below the comments), include the necessary <em>libraries</em>. A library is a set of commands that can be accessed by the Arduino program. Library files have the extension <code>.h</code>.</p>
<pre><code>#include &lt;SPI.h&gt;      // Serial Peripheral Interface 
#include &lt;SD.h&gt;       // SD card library.
#undef int()              // change default so stdlib will work
#include &lt;stdlib.h&gt;   // float to string fucntion</code></pre></li>
<li><p>Now make sure all of the necessary variables are defined.</p>
<pre><code>numReadings * interval = averaging time
unsigned long interval = 100; // time between samples in ms
int numReadings = 10;         // no. readings (samples) to average

int o3Pin    = A0;            // analog input for O3 sensor
int tempPin  = A1;            // analog input for temperature sensor
const int CS = 4;             // chip select pin for SD shield
float O3;
float temp;
int O3Value;
int tempValue;
char tempStr[6];
char O3str[8];
String header = &quot;Elapsed\_ms, O3\_mV, Temp\_C&quot;;
String dataString;</code></pre></li>
<li><p>Write the <code>setup()</code> routine.</p>
<pre><code>void setup() {
  pinMode(CS, OUTPUT);
  SD.begin(CS);     // initialize SD card
  File dataFile = SD.open(&quot;datalog.txt&quot;, FILE\_WRITE);  // open file for   writing

  if(dataFile) {
     dataFile.println(header);   // print header to data file
     dataFile.close();           // close the file
  }

  Serial.begin(9600);        // initialize serial communication at 9600 bits per second\\
  Serial.println(header);    // print file header to serial port
}
}</code></pre></li>
<li><p>Write the <code>loop()</code>.</p>
<pre><code>void loop() {
  // sum readings over sampling interval
  for (int i = 1; i &lt; numReadings; i++) {
     O3Value += analogRead(o3Pin);
     tempValue += analogRead(tempPin);
     delay(interval);
  }

  // compute avg O3 voltage:
  O3Value = O3Value / (numReadings);
  O3 = O3Value * (5000.0 / 1023.0);
  compute avg temperature:\\
  tempValue = tempValue / numReadings;  
  temp = tempValue * (5000.0 / 1023.0);   // convert temp bits to mV
  temp = (temp - 500) / 10;               // convert temp voltage to degrees C

  dtostrf(O3, 4, 2, O3str);
  dtostrf(temp, 3, 1, tempStr);

  dataString = String(millis()) + &quot;, &quot; + String(O3str) + &quot;, &quot; + String(tempStr);    // place data in single text string
  Serial.println(dataString);         // print to serial port
  File dataFile = SD.open(&quot;datalog.txt&quot;, FILE\_WRITE);  // open file for writing
  if(dataFile) {
    dataFile.println(dataString);     // print data to file
    dataFile.close();                 // close the file
  }
}</code></pre></li>
<li>Make sure the SD card is loaded before trying to log data.</li>
<li><p>After several minutes, try reading the data back off of your card using a SD card reader.</p></li>
</ol>
<p><strong>PM Sensor</strong></p>
<ol style="list-style-type: decimal">
<li><p>At the top of your code (just below the comments), include the necessary <em>libraries</em>. A library is a set of commands the we want to make accessible during the program. Library files have the extension <code>.h</code>.</p>
<pre><code>#include &lt;SPI.h&gt;  // Serial Peripheral Interface 
#include &lt;SD.h&gt;  // SD card library. 
#undef int()         // change default so stdlib will work 
#include &lt;stdlib.h&gt;  // float to string fucntion </code></pre></li>
<li><p>Now make sure all of the following variables are defined:</p>
<pre><code>int shinPin  = 8;           // input pin (digital) 
int tempPin  = A0;          // input pin for temp sensor (analog) 
int INTERVAL = 1000;        // sample duration (ms) 
float ALPHA  = 0.9;         // controls smoothing 
int CS       = 4;           // SD chip select pin

unsigned long t0;           // time of last data dump 
unsigned long elapsed;      // time since last data dump (ms) 
unsigned long acc = 0;      // sum of time spent LOW 
float raw;                  // fraction of time spent LOW 
float filtered = 0.0;
float temp;
int tempValue;

String header = &quot;Elapsed\_ms, Raw\_percent, Filtered\_percent, Temp\_C&quot;; \\
String dataString;  // character array for float conv. 
char tempStr[6]; // character array for float conv. 
char rawStr[9]; // character array for float conv. 
char filteredStr[9]; // character array for float conv.</code></pre></li>
<li><p>Write the <code>setup()</code> routine.</p>
<pre><code>void setup() { 
  pinMode(shinPin, INPUT); 
  pinMode(CS, OUTPUT);
  SD.begin(CS);                 // initialize SD card
  File dataFile = SD.open(&quot;datalog.txt&quot;, FILE\_WRITE);  // open file for writing
  if(dataFile) {
    dataFile.println(header);   // print header to data file 
    dataFile.close();           // close the file 
  }

  Serial.begin(9600); \\
  Serial.println(header);       // print file header to serial port

  t0 = millis();
}</code></pre></li>
<li><p>Finally, write the <code>loop()</code> command.</p>
<pre><code>void loop() {
  acc += pulseIn(shinPin, LOW);
  elapsed = millis() - t0;
  if (elapsed &gt; INTERVAL) {
    tempValue = analogRead(tempPin);       // read temp value (bits)
    temp = tempValue * (5000.0 / 1023.0);  // convert temp bits to mV
    temp = (temp - 500) / 10;              // convert temp voltage to degrees C
    raw = acc / (elapsed * 10.0);          // expressed as percentage
    filtered = ALPHA * filtered + (1.0 - ALPHA) * raw;  // smooth data
    dtostrf(temp, 2, 1, tempStr);
    dtostrf(raw, 2, 4, rawStr);
    dtostrf(filtered, 2, 4, filteredStr);
    dataString = String(millis()) + &quot;, &quot; + String(rawStr) + &quot;, &quot; + String(filteredStr) + &quot;, &quot; + String(tempStr);
    Serial.println(dataString);
    File dataFile = SD.open(&quot;datalog.txt&quot;, FILE\_WRITE);  // open file
    if(dataFile) {
      dataFile.println(dataString);        // print data to file
      dataFile.close();           // close the file
    }
    acc = 0;
    t0 = millis();
  }
}</code></pre></li>
<li>Make sure the SD card is loaded before trying to log data.</li>
<li><p>After several minutes, try reading the data back off of your card using a SD card reader.</p></li>
</ol>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="air-quality.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
